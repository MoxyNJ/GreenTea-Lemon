# 类式组件的结构：

1. 必须 **继承**。 `React.Component` ；
2. 必须有 **渲染方法**。 `render(){ return ...}`，在 render 中返回一个 HTML 结构。
3. 可以有 **自定义方法**，需要指出的是，自定义方法中的 this，没有指向当前实例对象。因为这个方法不是通过 `p1.callName()` 的方法调用的。也就是说调用者不是实例对象，而是 React 直接调用的。
   - 解决方案：`this.changeWeather = this.changeWeather.bind(this)`，使用 bind 函数，把这个 `changeWeather`  的 this 强制绑定到这个实例对象上。



### 一个类式组件的实例对象的结构：

![image-20211007144501255](%E6%88%91%E7%AC%AC%E4%BA%8C%E6%AC%A1%E7%9C%8B%E7%9A%84%E7%AC%94%E8%AE%B0/image-20211007144501255-16335891033111.png)

- context
- props 属性，组建实例的三大属性之一。用于传递标签属性。
- refs
- state 状态，组件实例的三大属性之一。存储着组件的数据。
  - 有两种写法：正常写和简写。
    - 简写不需要 `constructor` 和通过 `bind` 绑定解决自定义函数的 `this` 执行问题。
      - `constructor` 外部通过属性名定义的函数表达式，最后定义在了实例化对象上。所以，通过箭头函数去定义的 **函数表达式**，它的 `this` 就根据定义这个函数时的位置，指向了实例对象，这样就省略了 `bind` 去绑定 `this` 的指向。
  - 修改 `this.state`，不能直接修改，通过 `this.setState()`  修改。















